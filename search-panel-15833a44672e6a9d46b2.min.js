!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}({16:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var i=t[o](a),s=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}return r("next")})}}$(document).ready(function(){function e(e){var t=e.id,n=e.value,r=e.price,o=e.units,a=void 0===o?"—Ä.":o,i=e.oldPrice,s=e.url,c=e.imgUrl,u=["prod-item",!!i&&"has_old_price"].filter(Boolean).join(" "),l=i?'<span class="prod-item__price_old_price old_price">'+f(i)+f(a)+"</span>":"";return'<div class="'+u+'" id="product-'+f(t)+'">\n  <a href="'+f(s)+'" class="img-holder">\n    <img src="'+f(c)+'" alt="'+f(n)+'" />\n  </a>\n  <div class="prod-item__right">\n    <div class="prod-item__name">\n      <a href="'+f(s)+'">'+f(n)+'</a>\n    </div>\n    <div class="d-flex txt_14px align-items-center">–ê—Ä—Ç–∏–∫—É–ª: '+f(t)+'</div>\n    <div class="prod-item__price_and_buttons">\n      <p class="prod-item__price">\n        '+l+' <span class="prod-item__price_value" data-thousand-separate="">'+f(r)+'</span><span class="prod-item__price_units txt_14px">'+f(a)+'</span>\n      </p>\n      <div class="prod-item_buttons">\n        <button data-remote="/add/ok" class="prod-item__btn_cart btn red" data-buy="" data-id="'+f(t)+'" data-price="'+f(r)+'" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É">\n          <i class="icon icon_cart text-white txt_12px mr-2"></i> –≤ –∫–æ—Ä–∑–∏–Ω—É\n        </button>\n        <a href="'+f(s)+'" class="prod-item__btn_go btn gray" title="–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø—Ä–æ–¥—É–∫—Ç—É">\n          <span>ü°¢</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>'}function t(t){var n=t.slice(0,b).map(e).join("\n");E.innerHTML=n}function n(e){O+=e?1:-1,x.classList.toggle("loading",O>0)}function o(e){R+=e?1:-1,x.classList.toggle("waiting",R>0)}function a(){var e=this,o=encodeURIComponent(q);i(),j&&j.abort(),j=new AbortController;var a=j.signal,s=A+o;return n(!0),fetch(s,{signal:a}).then(function(){var t=r(regeneratorRuntime.mark(function t(n){var r,o,a,i,c,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=3;break}return e.next=3,new Promise(function(e){return setTimeout(e,1e3)});case 3:return r=n.ok,o=n.status,a=n.statusText,e.next=6,n.text();case 6:if(i=e.sent,r){e.next=12;break}throw c=[o,a].filter(Boolean).join(", "),u="Request failed ("+c+")",console.error("[search-panel:requestServerData]",u,{status:o,statusText:a,body:i,res:n,url:s}),new Error(u);case 12:l=void 0,e.prev=13,l=JSON.parse(i),e.next=22;break;case 17:throw e.prev=17,e.t0=e.catch(13),d="Cannot parse response",console.error("[search-panel:requestServerData]",d,{error:e.t0,body:i,res:n,url:s}),new Error(d);case 22:if(l){e.next=24;break}throw new Error("Empty data returned");case 24:if(Array.isArray(l)){e.next=26;break}throw new Error("Expected array data");case 26:return e.abrupt("return",l);case 27:case"end":return e.stop()}},t,e,[[13,17]])}));return function(e){return t.apply(this,arguments)}}()).then(function(e){if(_&&y){var n=Math.floor(6*Math.random());e=Array.from(Array(n)).map(function(e,t){var n=1e3+Math.round(9e3*Math.random()),r=50+Math.round(600*Math.random());return Object.assign({},T,{id:n,value:T.value.replace(/^\d+/,String(n)),price:r,oldPrice:Math.round(Math.random())?r+Math.round(300*Math.random()):""})})}t(e);var r=e.length;L&&(L.innerText=String(r)),x.classList.toggle("has_results",!!r),D=!0}).catch(function(e){"AbortError"!==e.name&&console.error("[search-panel:requestServerData]",{error:e,url:s})}).finally(function(){n(!1),j=void 0})}function i(){N&&(clearTimeout(N),N=void 0,o(!1))}function s(){i(),N=setTimeout(a,B),o(!0)}function c(){k&&(k=!1,h())}function u(e){"Escape"===e.key&&c()}function l(e){e.preventDefault(),e.stopPropagation()}function d(e){c()}function p(){S.submit()}function f(e){return void 0==e?"":("string"!=typeof e&&(e=String(e)),e=e.trim(),e.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}function v(){var e=f(q);P.value=e,M.value=e}function m(e){q=M.value,P.value=q,s()}function h(){v(),x.classList.toggle("visible",!!k),k?(M.addEventListener("input",m),w.addEventListener("mouseup",l,!0),document.addEventListener("mouseup",d),document.addEventListener("keydown",u)):(M.removeEventListener("input",m),w.addEventListener("mouseup",l),document.removeEventListener("mouseup",d),document.removeEventListener("keydown",u)),k&&setTimeout(function(){return M.focus()},100)}function g(e){e.preventDefault(),e.stopPropagation(),k=!k,!D&&k&&q&&a(),h()}var _=window.location.host.startsWith("localhost")||window.location.host.startsWith("imodelist.lilliputten.ru"),y=!0,b=3,x=document.getElementById("search-panel");if(!x)return void console.error("[search-panel:init] No search panel node found");var w=x.querySelector(".container");if(!w)return void console.error("[search-panel:init] No search panel container found");var E=x.querySelector(".results-panel-items");if(!E)return void console.error("[search-panel:init] No search panel items container found");var L=x.querySelector("#results-count"),k=x.classList.contains("visible"),q="",S=document.getElementById("search-panel-trigger");if(!S)return void console.warn("[search-panel:init] No search panel trigger form found");var M=x.querySelector("#search-panel-input");if(!M)return void console.warn("[search-panel:init] No search panel input field found");var P=S.querySelector('input[name="q"]');if(!M)return void console.warn("[search-panel:init] No body form input field found");var T={id:70063,value:"70063 –ê–∫–∞–Ω –ö—Ä–∞—Å–∫–∞ –≤–æ–¥–æ—Ä–∞—Å—Ç–≤–æ—Ä–∏–º–∞—è Western Approaches Blue –æ–∫—Ä–∞—Å–∫–∞ –Ω–∞–¥–≤–æ–¥–Ω—ã—Ö –±–æ—Ä—Ç–æ–≤ –∫–æ—Ä–∞–±–ª–µ–π –í–ú–§ –ê–Ω–≥–ª–∏–∏ —Å 1941 –≥–æ–¥–∞",text:"70063",price:"1 200",oldPrice:"1 650",url:"/goods/klei/akan/123/110/38247.html",imgUrl:"/assets/example/product.png"},j=void 0,A=_?"/assets/suggestion.json?q=":"/search/suggestion/?q=",N=void 0,B=1e3,D=!1,O=0,R=0;!function(){var e=x.querySelector("#close-button"),t=x.querySelector("#go-to-results"),n=x.querySelector("#search-panel-button"),r=new URLSearchParams(window.location.search);q=r.get("q")||"",S.addEventListener("click",g),e&&e.addEventListener("click",c),t&&t.addEventListener("click",p),n&&n.addEventListener("click",p),k?h():v()}()})}});